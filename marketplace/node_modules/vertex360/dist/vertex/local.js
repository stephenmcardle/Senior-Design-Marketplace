"use strict";var express=require("express"),path=require("path"),favicon=require("serve-favicon"),logger=require("morgan"),cookieParser=require("cookie-parser"),bodyParser=require("body-parser"),sessions=require("client-sessions");require("dotenv").config();var basePath=__dirname+"/../../../../";module.exports={app:function(){var e=express();e.use(bodyParser.json()),e.use(bodyParser.urlencoded({extended:!1})),e.use(cookieParser()),e.use(logger("dev")),process.env.SESSION_SECRET&&e.use(sessions({cookieName:"vertexSession",secret:process.env.SESSION_SECRET,duration:864e5,activeDuration:18e5}));var r=path.join(basePath,"views");e.set("views",r);var s=path.join(basePath,"public");return e.use(express.static(s)),e.set("view engine","mustache"),e.engine("mustache",require("hogan-middleware").__express),e},router:function(){return new express.Router}};